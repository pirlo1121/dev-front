<section class="projects-container">
    <h2>My Projects</h2>

    <div class="projects-grid">
        @for (project of paginatedProjects(); track project._id) {
        <div class="project-card">
            <img [src]="project.image || 'assets/project-placeholder.jpg'" [alt]="project.name">
            <div class="card-content">
                <h3>{{ project.name }}</h3>
                <p>{{ project.description }}</p>
                <div class="tags">
                    <span *ngFor="let stack of project.stack" class="tag">{{ stack }}</span>
                </div>
                <div class="links">
                    <a [href]="project.repository" target="_blank" class="btn">GitHub</a>
                    <a *ngIf="project.deploy" [href]="project.deploy" target="_blank" class="btn btn-primary">Live
                        Demo</a>
                </div>
            </div>
        </div>
        } @empty {
        <p>No projects found.</p>
        }
    </div>

    <div class="pagination-controls" *ngIf="projects().length > itemsPerPage">
        <button (click)="prevPage()" [disabled]="currentPage() === 1" class="btn-nav">Previous</button>
        <span class="page-indicator">Page {{ currentPage() }} of {{ totalPages() }}</span>
        <button (click)="nextPage()" [disabled]="currentPage() === totalPages()" class="btn-nav">Next</button>
    </div>

</section>